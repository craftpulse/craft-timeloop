var O=Object.defineProperty;var k=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var w=(e,s,t)=>s in e?O(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,S=(e,s)=>{for(var t in s||(s={}))F.call(s,t)&&w(e,t,s[t]);if(k)for(var t of k(s))M.call(s,t)&&w(e,t,s[t]);return e};import{c as P,d as p,a as l,w as W,v as C,b as i,t as c,n as y,o as d,F as _,r as D,e as T,f as U,g as f,h as m,i as j,j as v,k as E}from"./vendor.796b3754.js";function $(e,s,t="modelValue"){return P({get:()=>e[t],set:n=>s(`update:${t}`,n)})}var h=(e,s)=>{const t=e.__vccOpts||e;for(const[n,a]of s)t[n]=a;return t};const L=p({props:{cycle:{type:Number,default:1},frequency:{type:String,required:!0},utilities:{type:String,required:!1}},setup(e,{emit:s}){return{frequencyLabel:P(()=>{switch(e.frequency){case"P1D":return"day(s)";case"P1W":return"week(s)";case"P1M":return"month(s)";case"P1Y":return"year(s)"}}),cycle:$(e,s,"cycle")}}}),V=i("span",null," Repeats Every ",-1);function B(e,s,t,n,a,g){return d(),l("div",{class:y(["input flex flex-nowrap mb-0 flex-nowrap items-center",e.utilities])},[V,W(i("input",{class:"w-16 text",autocomplete:"off",type:"Number",min:"1","onUpdate:modelValue":s[0]||(s[0]=r=>e.cycle=r)},null,512),[[C,e.cycle,void 0,{number:!0}]]),i("span",null,c(e.frequencyLabel),1)],2)}var Y=h(L,[["render",B]]);const z=p({props:{days:{type:Array,required:!0},utilities:{type:String,required:!1}},data:()=>({weekDays:{Monday:{shortName:"M",dayOfWeek:1},Tuesday:{shortName:"T",dayOfWeek:2},Wednesday:{shortName:"W",dayOfWeek:3},Thursday:{shortName:"T",dayOfWeek:4},Friday:{shortName:"F",dayOfWeek:5},Saturday:{shortName:"S",dayOfWeek:6},Sunday:{shortName:"S",dayOfWeek:7}}}),setup(e,{emit:s}){return{days:$(e,s,"days")}},methods:{selectDay(e){this.days.includes(e)?this.days=this.days.filter(t=>t!==e):this.days.push(e);const s=this.weekDays;this.days.sort((t,n)=>s[t].dayOfWeek-s[n].dayOfWeek)}}}),A=["onClick"];function I(e,s,t,n,a,g){return d(),l("div",{class:y(["input grid grid-cols-7 gap-1 items-center rounded-md mt-1",e.utilities])},[(d(!0),l(_,null,D(e.weekDays,(r,o,b)=>(d(),l("span",{key:o,class:y(["inline-flex items-center justify-center w-8 h-8 font-bold bg-white","hover:bg-black hover:text-white cursor-pointer",e.days.includes(o)?"bg-black text-white":""]),onClick:q=>e.selectDay(o)},c(r.shortName),11,A))),128))],2)}var J=h(z,[["render",I]]);const R=p({props:{options:{type:Object,required:!0},selected:{type:String,required:!0},utilities:{type:String,required:!1}},setup(e,{emit:s}){return{selected:$(e,s,"selected")}}}),G={class:"select"},H=["value"];function K(e,s,t,n,a,g){return d(),l("div",{class:y(["input",e.utilities])},[i("div",G,[W(i("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>e.selected=r)},[(d(!0),l(_,null,D(e.options,(r,o)=>(d(),l("option",{key:o,value:o},c(r),9,H))),128))],512),[[T,e.selected]])])],2)}var N=h(R,[["render",K]]);const Q=p({components:{"select-field":N},props:{utilities:{type:String,required:!1},ordinal:{type:String,default:"none"},day:{type:String,default:"none"}},data:()=>({ordinals:{none:"None",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last"},days:{none:"None",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}}),setup:e=>({timestring:U({ordinal:e.ordinal||"none",day:e.day||"none"})})});function X(e,s,t,n,a,g){const r=f("select-field");return d(),l("div",{class:y(["flex flex-nowrap mb-0",e.utilities])},[m(r,{options:e.ordinals,selected:e.timestring.ordinal,"onUpdate:selected":s[0]||(s[0]=o=>e.timestring.ordinal=o),onChange:s[1]||(s[1]=o=>e.$emit("update:ordinal",e.timestring.ordinal))},null,8,["options","selected"]),m(r,{options:e.days,selected:e.timestring.day,"onUpdate:selected":s[2]||(s[2]=o=>e.timestring.day=o),onChange:s[3]||(s[3]=o=>e.$emit("update:day",e.timestring.day))},null,8,["options","selected"])],2)}var Z=h(Q,[["render",X]]);const x=p({components:{"select-field":N,"cycle-field":Y,"days-field":J,"time-string-field":Z},props:{options:{type:Object,required:!0}},data:()=>({periods:{P1D:"Every Day",P1W:"Every Week",P1M:"Every Month",P1Y:"Every Year"},period:{frequency:"P1D",days:[],cycle:1,timestring:{ordinal:null,day:null}}}),methods:{sanitizeData(e){switch(e.frequency){case"P1D":case"P1Y":this.period.days=[],this.period.timestring.ordinal=null,this.period.timestring.day=null;break;case"P1W":this.period.timestring.ordinal=null,this.period.timestring.day=null;break;case"P1M":this.period.days=[],!this.period.timestring.ordinal&&!this.period.timestring.day&&(this.period.timestring.ordinal="none",this.period.timestring.day="none");break;default:this.period={frequency:"P1D",days:[],cycle:1,timestring:{ordinal:null,day:null}}}}},mounted(){this.options.value&&(this.period=this.options.value)}}),ee=["id"],se={class:"heading"},te=["id"],ie=["id"],ne={class:"bg-gray-200 rounded-md p-4"},oe={class:"field"},re=i("div",{class:"heading"},[i("label",null,"Frequency")],-1),de=i("div",{class:"instructions"},[i("span",null,"Select a frequency")],-1),ae={class:"flex flex-nowrap"},le={class:"field"},ue=i("div",{class:"heading"},[i("label",null," Interval ")],-1),pe=i("div",{class:"instructions"},[i("span",null,"Provide an interval")],-1),ye={class:"mb-0 items-center w-full bg-gray-300 rounded-md"},ce={class:"flex flex-nowrap px-3 py-1 min-h-12"},fe={key:1,class:"flex flex-nowrap items-center mb-0"},me=i("span",null,"on",-1),he={key:2,class:"flex flex-nowrap items-center mb-0"},ge=i("span",null,"on the",-1),ve=["id","name","aria-describedby","value"];function $e(e,s,t,n,a,g){const r=f("select-field"),o=f("cycle-field"),b=f("days-field"),q=f("time-string-field");return d(),l("div",{id:"fields-"+e.options.id+"-field",class:"field"},[i("div",se,[i("label",{id:"fields-"+e.options.id+"-label",class:y(e.options.required?"required":"")},c(e.options.label),11,te)]),i("div",{id:"fields-"+e.options.id+"-instructions",class:"instructions"},[i("span",null,c(e.options.instructions),1)],8,ie),i("div",ne,[i("div",oe,[re,de,i("div",ae,[m(r,{settings:e.options,options:e.periods,selected:e.period.frequency,"onUpdate:selected":s[0]||(s[0]=u=>e.period.frequency=u),onChange:s[1]||(s[1]=u=>e.sanitizeData(e.period))},null,8,["settings","options","selected"])])]),i("div",le,[ue,pe,i("div",ye,[i("div",ce,[e.period.frequency?(d(),j(o,{key:0,settings:e.options,frequency:e.period.frequency,utilities:"",cycle:e.period.cycle,"onUpdate:cycle":s[2]||(s[2]=u=>e.period.cycle=u),cycleModifiers:{number:!0}},null,8,["settings","frequency","cycle"])):v("",!0),e.period.frequency&&e.period.frequency==="P1W"?(d(),l("div",fe,[me,m(b,{settings:e.options,frequency:e.period.frequency,days:e.period.days,"onUpdate:days":s[3]||(s[3]=u=>e.period.days=u)},null,8,["settings","frequency","days"])])):v("",!0),e.period.frequency&&e.period.frequency==="P1M"?(d(),l("div",he,[ge,m(q,{settings:e.options,ordinal:e.period.timestring.ordinal,day:e.period.timestring.day,"onUpdate:ordinal":s[4]||(s[4]=u=>e.period.timestring.ordinal=u),"onUpdate:day":s[5]||(s[5]=u=>e.period.timestring.day=u)},null,8,["settings","ordinal","day"])])):v("",!0)])])])]),i("input",{type:"hidden",id:"fields-"+e.options.id,name:"fields"+e.options.name,"aria-describedby":"fields-"+e.options.name+"-instructions",value:JSON.stringify(e.period)},null,8,ve)],8,ee)}var be=h(x,[["render",$e]]);const qe=p({components:{"loop-period":be}}),ke=async()=>{const e=document.querySelectorAll("[id$=_timeloop"),s=new Object;return e.forEach(n=>{let a=n.id.replace("-","");s[a]={id:"#"+n.id,app:E(S({},qe))}}),Object.entries(s).map(n=>{let a=n[1];return a.app.mount(a.id)})};ke().then(e=>{});
//# sourceMappingURL=timeloop-field.fde83074.js.map
