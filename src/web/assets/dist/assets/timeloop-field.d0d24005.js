var e=Object.defineProperty,i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(i,t,s)=>t in i?e(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s,r=(e,r)=>{for(var d in r||(r={}))t.call(r,d)&&n(e,d,r[d]);if(i)for(var d of i(r))s.call(r,d)&&n(e,d,r[d]);return e};import{c as d,d as a,a as l,w as o,v as c,b as y,t as u,o as p,F as f,r as m,e as h,f as g,g as v,h as b,i as q}from"./vendor.e8938c27.js";function k(e,i,t="modelValue"){return d({get:()=>e[t],set:e=>i(`update:${t}`,e)})}var w=a({props:{cycle:{type:Number,default:1},frequency:{type:String,required:!0},utilities:{type:String,required:!1}},setup:(e,{emit:i})=>({frequencyLabel:d((()=>{switch(e.frequency){case"P1D":return"day(s)";case"P1W":return"week(s)";case"P1M":return"month(s)";case"P1Y":return"year(s)"}})),cycle:k(e,i,"cycle")})});const O=y("span",null," Repeats Every ",-1);w.render=function(e,i,t,s,n,r){return p(),l("div",{class:["input flex flex-nowrap mb-0 flex-nowrap items-center",e.utilities]},[O,o(y("input",{class:"w-16 text",autocomplete:"off",type:"Number",min:"1","onUpdate:modelValue":i[1]||(i[1]=i=>e.cycle=i)},null,512),[[c,e.cycle,void 0,{number:!0}]]),y("span",null,u(e.frequencyLabel),1)],2)};var P=a({props:{days:{type:Array,required:!0},utilities:{type:String,required:!1}},data:()=>({weekDays:{Monday:{shortName:"M",dayOfWeek:1},Tuesday:{shortName:"T",dayOfWeek:2},Wednesday:{shortName:"W",dayOfWeek:3},Thursday:{shortName:"T",dayOfWeek:4},Friday:{shortName:"F",dayOfWeek:5},Saturday:{shortName:"S",dayOfWeek:6},Sunday:{shortName:"S",dayOfWeek:7}}}),setup:(e,{emit:i})=>({days:k(e,i,"days")}),methods:{selectDay(e){this.days.includes(e)?this.days=this.days.filter((i=>i!==e)):this.days.push(e);const i=this.weekDays;this.days.sort(((e,t)=>i[e].dayOfWeek-i[t].dayOfWeek))}}});P.render=function(e,i,t,s,n,r){return p(),l("div",{class:["input grid grid-cols-7 gap-1 items-center rounded-md mt-1",e.utilities]},[(p(!0),l(f,null,m(e.weekDays,((i,t,s)=>(p(),l("span",{key:t,class:["inline-flex items-center justify-center w-8 h-8 font-bold bg-white","hover:bg-black hover:text-white cursor-pointer",e.days.includes(t)?"bg-black text-white":""],onClick:i=>e.selectDay(t)},u(i.shortName),11,["onClick"])))),128))],2)};var S=a({props:{options:{type:Object,required:!0},selected:{type:String,required:!0},utilities:{type:String,required:!1}},setup:(e,{emit:i})=>({selected:k(e,i,"selected")})});const x={class:"select"};S.render=function(e,i,t,s,n,r){return p(),l("div",{class:["input",e.utilities]},[y("div",x,[o(y("select",{"onUpdate:modelValue":i[1]||(i[1]=i=>e.selected=i)},[(p(!0),l(f,null,m(e.options,((e,i)=>(p(),l("option",{key:i,value:i},u(e),9,["value"])))),128))],512),[[h,e.selected]])])],2)};var W=a({components:{"select-field":S},props:{utilities:{type:String,required:!1},ordinal:{type:String,default:"none"},day:{type:String,default:"none"}},data:()=>({ordinals:{none:"None",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last"},days:{none:"None",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"}}),setup:e=>({timestring:g({ordinal:e.ordinal||"none",day:e.day||"none"})})});W.render=function(e,i,t,s,n,r){const d=v("select-field");return p(),l("div",{class:["flex flex-nowrap mb-0",e.utilities]},[y(d,{options:e.ordinals,selected:e.timestring.ordinal,"onUpdate:selected":i[1]||(i[1]=i=>e.timestring.ordinal=i),onChange:i[2]||(i[2]=i=>e.$emit("update:ordinal",e.timestring.ordinal))},null,8,["options","selected"]),y(d,{options:e.days,selected:e.timestring.day,"onUpdate:selected":i[3]||(i[3]=i=>e.timestring.day=i),onChange:i[4]||(i[4]=i=>e.$emit("update:day",e.timestring.day))},null,8,["options","selected"])],2)};var D=a({components:{"select-field":S,"cycle-field":w,"days-field":P,"time-string-field":W},props:{options:{type:Object,required:!0}},data:()=>({periods:{P1D:"Every Day",P1W:"Every Week",P1M:"Every Month",P1Y:"Every Year"},period:{frequency:"P1D",days:[],cycle:1,timestring:{ordinal:null,day:null}}}),methods:{sanitizeData(e){switch(e.frequency){case"P1D":case"P1Y":this.period.days=[],this.period.timestring.ordinal=null,this.period.timestring.day=null;break;case"P1W":this.period.timestring.ordinal=null,this.period.timestring.day=null;break;case"P1M":this.period.days=[],this.period.timestring.ordinal||this.period.timestring.day||(this.period.timestring.ordinal="none",this.period.timestring.day="none");break;default:this.period={frequency:"P1D",days:[],cycle:1,timestring:{ordinal:null,day:null}}}}},mounted(){this.options.value&&(this.period=this.options.value)}});const N={class:"heading"},j={class:"bg-gray-200 rounded-md p-4"},M={class:"field"},U=y("div",{class:"heading"},[y("label",null,"Frequency")],-1),E=y("div",{class:"instructions"},[y("span",null,"Select a frequency")],-1),F={class:"flex flex-nowrap"},T={class:"field"},C=y("div",{class:"heading"},[y("label",null," Interval ")],-1),Y=y("div",{class:"instructions"},[y("span",null,"Provide an interval")],-1),$={class:"mb-0 items-center w-full bg-gray-300 rounded-md"},L={class:"flex flex-nowrap px-3 py-1 min-h-12"},V={key:1,class:"flex flex-nowrap items-center mb-0"},z=y("span",null,"on",-1),A={key:2,class:"flex flex-nowrap items-center mb-0"},I=y("span",null,"on the",-1);D.render=function(e,i,t,s,n,r){const d=v("select-field"),a=v("cycle-field"),o=v("days-field"),c=v("time-string-field");return p(),l("div",{id:"fields-"+e.options.id+"-field",class:"field"},[y("div",N,[y("label",{id:"fields-"+e.options.id+"-label",class:e.options.required?"required":""},u(e.options.label),11,["id"])]),y("div",{id:"fields-"+e.options.id+"-instructions",class:"instructions"},[y("span",null,u(e.options.instructions),1)],8,["id"]),y("div",j,[y("div",M,[U,E,y("div",F,[y(d,{settings:e.options,options:e.periods,selected:e.period.frequency,"onUpdate:selected":i[1]||(i[1]=i=>e.period.frequency=i),onChange:i[2]||(i[2]=i=>e.sanitizeData(e.period))},null,8,["settings","options","selected"])])]),y("div",T,[C,Y,y("div",$,[y("div",L,[e.period.frequency?(p(),l(a,{key:0,settings:e.options,frequency:e.period.frequency,utilities:"",cycle:e.period.cycle,"onUpdate:cycle":i[3]||(i[3]=i=>e.period.cycle=i),cycleModifiers:{number:!0}},null,8,["settings","frequency","cycle"])):b("",!0),e.period.frequency&&"P1W"===e.period.frequency?(p(),l("div",V,[z,y(o,{settings:e.options,frequency:e.period.frequency,days:e.period.days,"onUpdate:days":i[4]||(i[4]=i=>e.period.days=i)},null,8,["settings","frequency","days"])])):b("",!0),e.period.frequency&&"P1M"===e.period.frequency?(p(),l("div",A,[I,y(c,{settings:e.options,ordinal:e.period.timestring.ordinal,day:e.period.timestring.day,"onUpdate:ordinal":i[5]||(i[5]=i=>e.period.timestring.ordinal=i),"onUpdate:day":i[6]||(i[6]=i=>e.period.timestring.day=i)},null,8,["settings","ordinal","day"])])):b("",!0)])])])]),y("input",{type:"hidden",id:"fields-"+e.options.id,name:"fields"+e.options.name,"aria-describedby":"fields-"+e.options.name+"-instructions",value:JSON.stringify(e.period)},null,8,["id","name","aria-describedby","value"])],8,["id"])};var _=a({components:{"loop-period":D}});(async()=>{const e=document.querySelectorAll("[id$=_timeloop"),i=new Object;e.forEach((e=>{let t=e.id.replace("fields-","").replace("_timeloop","");i[t]={id:"#"+e.id,app:q(r({},_))}}));return Object.entries(i).map((e=>{let i=e[1];return i.app.mount(i.id)}))})().then((e=>{}));
//# sourceMappingURL=timeloop-field.d0d24005.js.map
